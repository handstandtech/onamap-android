<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/base :: head"></head>
<body>
    <div th:replace="admin/base :: nav"></div>
    
    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
        <div class="px-4 py-5 sm:px-6 flex justify-between items-center">
            <div>
                <h3 class="text-lg leading-6 font-medium text-gray-900">Photo Details</h3>
                <p class="mt-1 max-w-2xl text-sm text-gray-500">View and edit photo information.</p>
            </div>
            <a href="/admin/photos" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Back to Photos
            </a>
        </div>
        
        <div class="border-t border-gray-200 px-4 py-5 sm:p-6">
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
                <div>
                    <h4 class="text-sm font-medium text-gray-500">ID</h4>
                    <p class="mt-1 text-sm text-gray-900" th:text="${photo.id}"></p>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500">Title</h4>
                    <p class="mt-1 text-sm text-gray-900" th:text="${photo.title}"></p>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500">Location</h4>
                    <p class="mt-1 text-sm text-gray-900">
                        <span th:text="${photo.country}"></span>
                        <span th:if="${photo.region != null}" th:text="', ' + ${photo.region}"></span>
                        <span th:if="${photo.city != null}" th:text="', ' + ${photo.city}"></span>
                    </p>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500">Coordinates</h4>
                    <p class="mt-1 text-sm text-gray-900" th:text="${photo.lat + ', ' + photo.lng}"></p>
                </div>
            </div>
            
            <div class="mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2">
                <div>
                    <h4 class="text-sm font-medium text-gray-500">Photo Preview</h4>
                    <div class="mt-2">
                        <img th:if="${photo.flickrUrl != null}" th:src="${photo.flickrUrl}" class="max-w-full rounded-lg shadow-lg" alt="Photo preview">
                    </div>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500">Location on Map</h4>
                    <div class="mt-2">
                        <iframe 
                            th:if="${photo.lat != 0.0 && photo.lng != 0.0}"
                            th:src="'https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&q=' + ${photo.lat} + ',' + ${photo.lng} + '&zoom=15'"
                            width="100%" 
                            height="300" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                        <p th:unless="${photo.lat != 0.0 && photo.lng != 0.0}" class="text-sm text-gray-500">No location data available</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end space-x-3">
                <a th:href="'/admin/photos/' + ${photo.id} + '/edit'" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Edit Photo
                </a>
                <form th:action="'/admin/photos/' + ${photo.id} + '/delete'" method="post" class="inline">
                    <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500" onclick="return confirm('Are you sure you want to delete this photo?')">
                        Delete Photo
                    </button>
                </form>
            </div>
        </div>
    </div>
</body>
</html> 